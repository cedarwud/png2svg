# Validator Thresholds v1: numeric limits for visual regression checks.
# Key fields: visual_diff.rmse_max, visual_diff.bad_pixel_ratio_max,
# visual_diff.pixel_tolerance, geometry.snap_tolerance,
# geometry.dash_segment_length_max, geometry.dash_segment_min_count,
# geometry.polyline_max_points.
# Note: thresholds are conservative to tolerate minor rasterizer differences.
version: v1

visual_diff:
  pixel_tolerance: 10
  rmse_max: 0.02
  bad_pixel_ratio_max: 0.01

# Quality gate thresholds for convert pipeline (input PNG vs rendered SVG).
# These are intentionally looser than visual_diff to avoid over-failing while
# extractors are still improving; tighten as quality improves.
quality_gate:
  pixel_tolerance: 10
  rmse_max: 0.75
  bad_pixel_ratio_max: 0.65

# Hard-input gate thresholds (allow a bit more noise from degraded inputs).
quality_gate_hard:
  pixel_tolerance: 12
  rmse_max: 0.85
  bad_pixel_ratio_max: 0.7

geometry:
  snap_tolerance: 0.5
  dash_segment_length_max: 10
  dash_segment_min_count: 6
  polyline_max_points: 32

text:
  min_keep_ratio: 0.7
  max_missing: 1
  min_keep_absolute: 1
  outline_path_min: 8
  baseline_tolerance: 1.0
